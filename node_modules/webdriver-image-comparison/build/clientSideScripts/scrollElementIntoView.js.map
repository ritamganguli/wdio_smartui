{"version":3,"file":"scrollElementIntoView.js","sourceRoot":"","sources":["../../lib/clientSideScripts/scrollElementIntoView.ts"],"names":[],"mappings":";;AAGA,SAAwB,qBAAqB,CAAC,OAAoB,EAAE,uBAA+B;IACjG,IAAI,eAAe,GAAG,CAAC,CAAC;IAExB,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAChD,IAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAEhD,IAAI,QAAQ,CAAC,SAAS,GAAG,CAAC,EAAE;QAC1B,eAAe,GAAG,QAAQ,CAAC,SAAS,CAAC;KACtC;IACD,IAAI,QAAQ,CAAC,SAAS,GAAG,CAAC,EAAE;QAC1B,eAAe,GAAG,QAAQ,CAAC,SAAS,CAAC;KACtC;IAEO,IAAA,GAAG,GAAK,OAAO,CAAC,qBAAqB,EAAE,IAApC,CAAqC;IAEhD,IAAM,SAAS,GAAG,GAAG,GAAG,uBAAuB,CAAC;IAGhD,IAAI,QAAQ,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,EAAE;QACjD,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;QAE/B,IAAI,QAAQ,CAAC,SAAS,KAAK,SAAS,EAAE;YACpC,OAAO,eAAe,CAAC;SACxB;KACF;IAGD,IAAI,QAAQ,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,EAAE;QACjD,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;QAE/B,IAAI,QAAQ,CAAC,SAAS,KAAK,SAAS,EAAE;YACpC,OAAO,eAAe,CAAC;SACxB;KACF;IAED,OAAO,eAAe,CAAC;AACzB,CAAC;AApCD,wCAoCC","sourcesContent":["/**\n * Scroll the element into the top of the viewport\n */\nexport default function scrollElementIntoView(element: HTMLElement, addressBarShadowPadding: number): number {\n  let currentPosition = 0;\n  // Determine the current scroll position\n  const htmlNode = document.querySelector('html');\n  const bodyNode = document.querySelector('body');\n  // If could be that we can't calculate the scroll position on the html but on the body node\n  if (htmlNode.scrollTop > 0) {\n    currentPosition = htmlNode.scrollTop;\n  }\n  if (bodyNode.scrollTop > 0) {\n    currentPosition = bodyNode.scrollTop;\n  }\n\n  const { top } = element.getBoundingClientRect();\n  // Add the extra padding for the address bar\n  const yPosition = top - addressBarShadowPadding;\n\n  // Now scroll to the top of the screen\n  if (htmlNode.scrollHeight > htmlNode.clientHeight) {\n    htmlNode.scrollTop = yPosition;\n    // Did we scroll to the right position?\n    if (htmlNode.scrollTop === yPosition) {\n      return currentPosition;\n    }\n  }\n\n  // If not then try the body\n  if (bodyNode.scrollHeight > bodyNode.clientHeight) {\n    bodyNode.scrollTop = yPosition;\n    // Did we scroll to the right position?\n    if (bodyNode.scrollTop === yPosition) {\n      return currentPosition;\n    }\n  }\n\n  return currentPosition;\n}\n"]}