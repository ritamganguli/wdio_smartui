{"version":3,"file":"getIosStatusAddressToolBarOffsets.spec.js","sourceRoot":"","sources":["../../lib/clientSideScripts/getIosStatusAddressToolBarOffsets.spec.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,wCAAmF;AACnF,yFAAoF;AACpF,kDAAmD;AAEnD,QAAQ,CAAC,mCAAmC,EAAE;IAC5C,EAAE,CAAC,6GAA6G,EAAE;QAChH,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC;QAEpC,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,8GAA8G,EAAE;QACjH,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC;QAEpC,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,IAAI,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IACjF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,6GAA6G,EAAE;QAChH,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;QAEtC,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,8GAA8G,EAAE;QACjH,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC;QAEtC,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,IAAI,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IACjF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,sGAAsG,EAAE;QACzG,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,WAAW,CAAC,CAAC;QAEvC,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,wHAAwH,EAAE;QAC3H,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,WAAW,CAAC,CAAC;QAEvC,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,IAAI,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IACjF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uEAAuE,EAAE;QAC1E,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,WAAW,CAAC,CAAC;QAEvC,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,2GAA2G,EAAE;QAC9G,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,eAAe,CAAC,CAAC;QAE3C,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uEAAuE,EAAE;QAC1E,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,MAAM,CAAC,CAAC;QAElC,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,sFAAsF,EAAE;QACzF,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,eAAe,CAAC,CAAC;QAE3C,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,KAAK,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,yFAAyF,EAAE;QAC5F,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,gBAAgB,CAAC,CAAC;QAE5C,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,IAAI,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IACjF,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,6GAA6G,EAAE;QAChH,cAAc,CAAC,KAAK,EAAE,EAAE,EAAE,oBAAoB,CAAC,CAAC;QAEhD,MAAM,CAAC,IAAA,2CAAiC,EAAC,uBAAW,EAAE,IAAI,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC;IACjF,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAKH,SAAS,cAAc,CAAC,EAAU,EAAE,OAAe,EAAE,UAAkB;IAErE,MAAM,CAAC,cAAc,CAAC,SAAS,EAAE,YAAY,aAAI,KAAK,EAAE,8BAAsB,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAK,oBAAY,EAAG,CAAC;IAEhH,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,aAAI,KAAK,EAAE,mBAAW,CAAC,UAAU,CAAC,CAAC,KAAK,IAAK,oBAAY,EAAG,CAAC;IAEzG,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,QAAQ,EAAE,iBAAiB,aAEtD,KAAK,EAAE,EAAE,WAAW,EAAE,mBAAW,CAAC,UAAU,CAAC,CAAC,WAAW,EAAE,IACxD,oBAAY,EACf,CAAC;IAEH,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,aAAI,KAAK,EAAE,mBAAW,CAAC,UAAU,CAAC,CAAC,MAAM,IAAK,oBAAY,EAAG,CAAC;IAE3G,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,aAAI,KAAK,EAAE,mBAAW,CAAC,UAAU,CAAC,CAAC,UAAU,IAAK,oBAAY,EAAG,CAAC;IAE5G,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,aAAa,aAAI,KAAK,EAAE,mBAAW,CAAC,UAAU,CAAC,CAAC,WAAW,IAAK,oBAAY,EAAG,CAAC;AAChH,CAAC","sourcesContent":["import { IOS_DEVICES, NAVIGATOR_APP_VERSIONS, CONFIGURABLE } from '../mocks/mocks';\nimport getIosStatusAddressToolBarOffsets from './getIosStatusAddressToolBarOffsets';\nimport { IOS_OFFSETS } from '../helpers/constants';\n\ndescribe('getIosStatusAddressToolBarOffsets', () => {\n  it('should get the correct status, address and toolbar height for a default iPhone with iOS 14 in Portrait mode', () => {\n    setEnvironment('IOS', 14, 'IPHONE');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, false)).toMatchSnapshot();\n  });\n\n  it('should get the correct status, address and toolbar height for a default iPhone with iOS 14 in landscape mode', () => {\n    setEnvironment('IOS', 14, 'IPHONE');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, true)).toMatchSnapshot();\n  });\n\n  it('should get the correct status, address and toolbar height for a default iPhone with iOS 15 in portrait mode', () => {\n    setEnvironment('IOS', 15, 'IPHONE_X');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, false)).toMatchSnapshot();\n  });\n\n  it('should get the correct status, address and toolbar height for a default iPhone with iOS 15 in landscape mode', () => {\n    setEnvironment('IOS', 15, 'IPHONE_X');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, true)).toMatchSnapshot();\n  });\n\n  it('should get the correct status bar height for an iPhone 11 with iOS 13 to validate the iPhone 11 hack', () => {\n    setEnvironment('IOS', 13, 'IPHONE_11');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, false)).toMatchSnapshot();\n  });\n\n  it('should get the correct status bar height for an iPhone 11 with iOS 13 to validate the iPhone 11 hack in landscape mode', () => {\n    setEnvironment('IOS', 13, 'IPHONE_11');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, true)).toMatchSnapshot();\n  });\n\n  it('should get the correct status bar height for an iPhone 11 with iOS 15', () => {\n    setEnvironment('IOS', 15, 'IPHONE_11');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, false)).toMatchSnapshot();\n  });\n\n  it('should get the correct status, address and toolbar height for an iPhone with extreme not known dimensions', () => {\n    setEnvironment('IOS', 15, 'IPHONE_HEIGHT');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, false)).toMatchSnapshot();\n  });\n\n  it('should get the correct status, address and toolbar height for an iPad', () => {\n    setEnvironment('IOS', 15, 'IPAD');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, false)).toMatchSnapshot();\n  });\n\n  it('should get the correct status, address and toolbar height for an iPad with big sizes', () => {\n    setEnvironment('IOS', 15, 'IPAD_BIG_SIZE');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, false)).toMatchSnapshot();\n  });\n\n  it('should get the correct status, address and toolbar height for an iPad in landscape mode', () => {\n    setEnvironment('IOS', 15, 'IPAD_LANDSCAPE');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, true)).toMatchSnapshot();\n  });\n\n  it('should get the correct status, address and toolbar height for the iPad Pro 12.9 2017 hack in landscape mode', () => {\n    setEnvironment('IOS', 15, 'IPAD_PRO_LANDSCAPE');\n\n    expect(getIosStatusAddressToolBarOffsets(IOS_OFFSETS, true)).toMatchSnapshot();\n  });\n});\n\n/**\n * Set the environment for the test\n */\nfunction setEnvironment(os: string, version: number, deviceType: string) {\n  // @ts-ignore\n  Object.defineProperty(navigator, 'appVersion', { value: NAVIGATOR_APP_VERSIONS[os][version], ...CONFIGURABLE });\n  // @ts-ignore\n  Object.defineProperty(window.screen, 'width', { value: IOS_DEVICES[deviceType].width, ...CONFIGURABLE });\n  // @ts-ignore\n  Object.defineProperty(global.document, 'documentElement', {\n    // @ts-ignore\n    value: { scrollWidth: IOS_DEVICES[deviceType].scrollWidth },\n    ...CONFIGURABLE,\n  });\n  // @ts-ignore\n  Object.defineProperty(window.screen, 'height', { value: IOS_DEVICES[deviceType].height, ...CONFIGURABLE });\n  // @ts-ignore\n  Object.defineProperty(window, 'innerWidth', { value: IOS_DEVICES[deviceType].innerWidth, ...CONFIGURABLE });\n  // @ts-ignore\n  Object.defineProperty(window, 'innerHeight', { value: IOS_DEVICES[deviceType].innerHeight, ...CONFIGURABLE });\n}\n"]}